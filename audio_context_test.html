<!doctype html>

<html>
   <head>
      <meta charset="utf-8" />
      <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Super Cool Combo Generator Thingy</title>
      <meta name="description" content="A scratch combination generator for djs" />
      <meta name="author" content="James Murphy" />
      <meta name="application-name" content="Super Cool Combo Generator Thingy" />
      
      <script src="test_load_library.js"></script>
      
   </head>
   <body>
      <header>
         
      </header>
      <main>
         <audio src="dist/libs/loopers/90bpm.mp3" controls="controls" style="display:none"></audio>
         <a id="play" onclick="loadLooper('dist/libs/loopers/90BPM.mp3')">Load</a>
         <a id="play" onclick="playLooper()">Play</a>
      </main>
      <footer>
         <p>&copy; 2017 James Murphy</p>
      </footer>
      
      <script>
         
//         var context = new (window.AudioContext || window.webkitAudioContext)(); // create new Audio Context
//         
//         var looper = null; // set initial valude of looper to "null"
//         
//         function loadLooper(url) { // define function for loading looper
//            
//            var request = new XMLHttpRequest(); // define "request" variable
//            
//            request.open("GET", url, true); // initialize request with (method, url, async) 
//            
//            request.responseType = "arraybuffer"; // define response type of XMLHttpRequest as "audiobuffer"
//            
//            request.onload = function() { // define function to run when the requested file is loaded
//               
//               context.decodeAudioData(request.response, function(buffer) { // decode audio file data received from "request.reponse", sends to callback function
//                  
//                  looper = buffer; // set value of variable "looper" to the value of the newly decoded audio file
//                  console.log("sample loaded"); // log message to console when loading is complete
//               })
//            }
//            
//            request.send(); // send the request
//            
//         }
//         
//         function playLooper(buffer) { // define function for playing audio
//            
//            var source = context.createBufferSource(); // create a buffer source node inside of Audio Context and assign to variable "source"
//            
//            source.buffer = looper; // define what to play through variable "source"
//            
//            source.connect(context.destination); // connect variable "source" to system speakers
//            
//            source.start(0); // play the source now
//         }
         
         
      </script>
      
   </body>
</html>